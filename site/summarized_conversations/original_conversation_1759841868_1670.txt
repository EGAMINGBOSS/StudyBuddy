{'role': 'assistant', 'content': 'Now, let\'s create the login page:\n\n<function_calls>\n<create-file file_path="website/StudentPlatform/login.php">\n<?php\n// Initialize the session\nsession_start();\n\n// Check if the user is already logged in, if yes then redirect to welcome page\nif(isset($_SESSION["loggedin"]) && $_SESSION["loggedin"] === true) {\n    header("location: welcome.php");\n    exit;\n}\n\n// Include database connection\nrequire_once "config/database.php";\nrequire_once "backend/auth.php";\n\n// Define variables and initialize with empty values\n$username = $password = "";\n$username_err = $password_err = $login_err = "";\n\n// Processing form data when form is submitted\nif($_SERVER["REQUEST_METHOD"] == "POST") {\n    \n    // Check if username is empty\n    if(empty(trim($_POST["username"]))) {\n        $username_err = "Please enter username or email.";\n    } else {\n        $username = trim($_POST["username"]);\n    }\n    \n    // Check if password is empty\n    if(empty(trim($_POST["password"]))) {\n        $password_err = "Please enter your password.";\n    } else {\n        $password = trim($_POST["password"]);\n    }\n    \n    // Validate credentials\n    if(empty($username_err) && empty($password_err)) {\n        // Create Auth instance\n        $auth = new Auth();\n        \n        // Attempt to login\n        $result = $auth->login($username, $password);\n        \n        if($result[\'success\']) {\n            // Redirect to welcome page\n            header("location: welcome.php");\n        } elseif(isset($result[\'requires_verification\']) && $result[\'requires_verification\']) {\n            // Store user info for verification\n            $_SESSION["verification_user_id"] = $result[\'user_id\'];\n            $_SESSION["verification_email"] = $result[\'email\'];\n            $_SESSION["verification_username"] = $result[\'username\'];\n            \n            // Redirect to verification page\n            header("location: verify.php");\n        } else {\n            $login_err = $result[\'message\'];\n        }\n    }\n}\n?>\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Login - Student Platform</title>\n    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">\n    <link rel="stylesheet" href="css/style.css">\n</head>\n<body>\n    <div class="container">\n        <div class="row justify-content-center mt-5">\n            <div class="col-md-6">\n                <div class="card">\n                    <div class="card-header text-center">\n                        <h2>Login</h2>\n                    </div>\n                    <div class="card-body">\n                        <?php \n                        if(!empty($login_err)){\n                            echo \'<div class="alert alert-danger">\' . $login_err . \'</div>\';\n                        }        \n                        ?>\n                        <form id="loginForm" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" method="post" class="auth-form">\n                            <div class="form-group">\n                                <label for="username">Username or Email</label>\n                                <input type="text" name="username" id="username" class="form-control <?php echo (!empty($username_err)) ? \'is-invalid\' : \'\'; ?>" value="<?php echo $username; ?>">\n                                <span id="username_err" class="help-block"><?php echo $username_err; ?></span>\n                            </div>    \n                            <div class="form-group">\n                                <label for="password">Password</label>\n                                <input type="password" name="password" id="password" class="form-control <?php echo (!empty($password_err)) ? \'is-invalid\' : \'\'; ?>">\n                                <span id="password_err" class="help-block"><?php echo $password_err; ?></span>\n                            </div>\n                            <div class="form-group">\n                                <input type="submit" class="btn btn-primary btn-block" value="Login">\n                            </div>\n                            <p class="text-center">Don\'t have an account? <a href="register.php">Sign up now</a>.</p>\n                            <p class="text-center"><a href="reset-password.php">Forgot your password?</a></p>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>\n    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>\n    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>\n    <script src="js/script.js"></script>\n</body>\n</html>\n</create-file>\n</function_calls>'}